<?xml version="1.0" encoding="utf-8" ?>
<TabbedPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
            xmlns:vm="clr-namespace:EarphoneLeftAndRight.ViewModels"
            xmlns:vc="clr-namespace:EarphoneLeftAndRight.ValueConverters"
             xmlns:r="clr-namespace:EarphoneLeftAndRight.Resx"
            
             x:Class="EarphoneLeftAndRight.Views.BeepTabbed"
            BarBackgroundColor="{AppThemeBinding Default={StaticResource PrimaryLight},Light={StaticResource PrimaryLight},Dark={StaticResource PrimaryDark}}"
            >
    <TabbedPage.Resources>
        <vc:BooleanToStringValueConverter x:Key="vc_b2c"/>
    </TabbedPage.Resources>
    <ContentPage Title="Basic">
        <ContentPage.BindingContext>
            <vm:BeepFreqViewModel />
        </ContentPage.BindingContext>
        <ScrollView VerticalScrollBarVisibility="Default" Orientation="Vertical">
            <StackLayout>
                <Label FontSize="Large" Text="Frequency" Margin="10"/>
                <Slider Grid.Column="1" Maximum="{Binding FrequencyMaximum}" Minimum="{Binding FrequencyMinimum}" Value="{Binding Frequency}" Margin="0,10,0,10"/>
                <Grid Margin="10,0,10,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" Text="-10" Command="{Binding AddFrequencyCommand}" CommandParameter="-10"/>
                    <Button Grid.Column="1" Text="-1" Command="{Binding AddFrequencyCommand}" CommandParameter="-1"/>
                    <Button Grid.Column="3" Text="+1" Command="{Binding AddFrequencyCommand}" CommandParameter="1"/>
                    <Button Grid.Column="4" Text="+10" Command="{Binding AddFrequencyCommand}" CommandParameter="10"/>
                    <Label Grid.Column="2" Text="{Binding FrequencyHumanReadable}" VerticalOptions="Center" HorizontalOptions="Center" InputTransparent="True" 
                           Opacity="{Binding Source={x:Reference entryFreq},Path=IsFocused,Converter={x:StaticResource vc_b2c},ConverterParameter=0:1}"
                           />
                    <Entry x:Name="entryFreq"
                        Grid.Column="2" Opacity="{Binding Source={RelativeSource Self},Path=IsFocused,Converter={x:StaticResource vc_b2c},ConverterParameter=1:0}" 
                           Text="{Binding Frequency}"
                           Keyboard="Numeric"
                           />
                </Grid>
                <Label FontSize="Large" Text="Balance" Margin="10"/>
                <Slider Minimum="-1" Maximum="1" Value="{Binding Balance}" Margin="10"/>
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" Text="{x:Static r:LocalResources.Left}" Command="{Binding SetBalanceCommand}" CommandParameter="-1" />
                    <Button Grid.Column="1" Text="{x:Static r:AppResources.Word_Center}" Command="{Binding SetBalanceCommand}" CommandParameter="0" />
                    <Button Grid.Column="2" Text="{x:Static r:LocalResources.Right}" Command="{Binding SetBalanceCommand}" CommandParameter="1" />
                </Grid>
                <Button Text="Play" Margin="10" Command="{Binding PlayCommand}" />
            </StackLayout>
        </ScrollView>
    </ContentPage>
    <ContentPage Title="Piano">

    </ContentPage>
</TabbedPage>